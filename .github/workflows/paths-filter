name: List files

on:
  pull_request_target:
    types: [ opened, synchronize, workflow_dispatch]

permissions: {}
jobs:
  test:
    permissions:
      contents: write 
      pull-requests: write 
    runs-on: ubuntu-latest
    env:
      GITHUB_TOKEN: "${{ secrets.GITHUB_TOKEN }}"
    steps:
      - name: Check for relevant changes
        uses: dorny/paths-filter@v3
        id: changed
        with:
          list-files: shell
          filters: |
            style:
              - '*.csl'
              - 'dependent/*.csl'
            locale:
              - '*.xml'
      - name: Changed files
        run: |
          echo changed: ${{ steps.changed.outputs.style_files }} ${{ steps.changed.outputs.locale_files }}
